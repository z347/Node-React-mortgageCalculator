(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[5],{189:function(e,t,n){"use strict";n.r(t);var r=n(113),a=n(0),i=n(42),c=n(109),o=n.n(c),s=n(110),l=Object.freeze({prefix:"/api",banksInfo:"/banks-info",deleteBank:"/bank"}),u=n(30),m=l.prefix,d=l.banksInfo;function p(){return function(){var e=Object(s.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:u.b,loading:!0}),e.next=4,fetch(m+d,{method:"GET",cache:"no-cache",headers:{"Content-Type":"application/json; charset=UTF-8"}});case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,console.log(r),n.ok?t((a=r,{type:u.c,loading:!1,payload:a})):t(j()),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t(j());case 15:case"end":return e.stop()}var a}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()}function j(){return{type:u.a,loading:!1,error:!0}}var b=n(48),x=n(78),h=Object(x.a)((function(e){return{root:{width:"75%",margin:"100px auto","& .MuiAccordionDetails-root":{display:"block"}},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},wrapper:{display:"flex",flexDirection:"row-reverse",width:"100%",marginTop:"40px"},container:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"3rem"},paragraph:{fontSize:e.typography.pxToRem(25)},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),minWidth:"500px"},button:{float:"right",marginTop:"25px"}}})),f=n(4),O=function(){var e=h();return Object(f.jsx)("div",{className:e.container,children:Object(f.jsx)("p",{className:e.paragraph,children:"List of banks is empty."})})},v=n(194),y=n(183),g=n(185),k=n(184),w=n(156),T=n.n(w),C=n(151),R=n.n(C),q=n(177),L=n(31),N=l.prefix,I=l.deleteBank;function D(e){return function(){var t=Object(s.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:L.b,loading:!0}),t.next=4,fetch("".concat(N).concat(I,":").concat(e),{method:"DELETE",cache:"no-cache"});case 4:(r=t.sent).ok&&200===r.status?n({type:L.c,loading:!1,delete:!0}):n(S()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(S());case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function S(){return{type:L.a,loading:!1,error:!0}}var B=function(e){var t=e.data,n=Object(i.b)(),r=function(){var e=Object(s.a)(o.a.mark((function e(r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,n(D(t));case 3:return e.next=5,n(p());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)(q.a,{"aria-label":"delete",onClick:r,children:Object(f.jsx)(R.a,{})})},M=n(192),P=n(181),A=n(182),F=n(155),z=n.n(F),E=n(131),V=n(195),J=n(193),W=n(105),U=n(154),_=n.n(U),G=n(33),H=l.prefix,$=l.banksInfo;function K(e){return function(){var t=Object(s.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:G.b,loading:!0}),t.next=4,fetch(H+$,{method:"PATCH",cache:"no-cache",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(e)});case 4:t.sent.ok?n({type:G.c,loading:!1,edit:!0}):n(Q()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(Q());case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function Q(){return{type:G.a,loading:!1,error:!0}}var X=function(e){var t=e.item,n=Object(i.b)(),r=h(),a=Object(E.a)(),c=a.register,l=a.handleSubmit,u=a.errors,m=function(){var e=Object(s.a)(o.a.mark((function e(r,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r.id=t._id,e.next=4,n(K(r));case 4:return e.next=6,n(p());case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(f.jsxs)("form",{autoComplete:"off",onSubmit:l(m),children:[Object(f.jsx)(V.a,{label:"Bank name *",id:"name",name:"name",type:"text",variant:"outlined",defaultValue:t.name,inputRef:c({required:!0})}),u.name&&Object(f.jsx)(J.a,{severity:"error",children:"Bank name is required"}),Object(f.jsx)(V.a,{label:"Interest rate *",id:"interestRate",name:"interestRate",type:"number",variant:"outlined",defaultValue:t.interestRate,inputRef:c({required:!0})}),u.interestRate&&Object(f.jsx)(J.a,{severity:"error",children:"Interest rate is required"}),Object(f.jsx)(V.a,{label:"Maximum loan *",id:"maximumLoan",name:"maximumLoan",type:"number",variant:"outlined",defaultValue:t.maximumLoan,inputRef:c({required:!0})}),u.maximumLoan&&Object(f.jsx)(J.a,{severity:"error",children:"Maximum loan is required"}),Object(f.jsx)(V.a,{label:"Minimum down payment *",id:"minimumDownPayment",name:"minimumDownPayment",type:"number",variant:"outlined",defaultValue:t.minimumDownPayment,inputRef:c({required:!0})}),u.maximumLoan&&Object(f.jsx)(J.a,{severity:"error",children:"Minimum down payment is required"}),Object(f.jsx)(V.a,{label:"Loan term *",id:"loanTerm",name:"loanTerm",type:"number",variant:"outlined",defaultValue:t.loanTerm,inputRef:c({required:!0})}),u.loanTerm&&Object(f.jsx)(J.a,{severity:"error",children:"Loan term is required"}),Object(f.jsx)("div",{children:Object(f.jsx)(W.a,{variant:"contained",color:"default",size:"small",className:r.button,startIcon:Object(f.jsx)(_.a,{}),type:"submit",children:"Save"})})]})},Y=function(e){var t=e.item,n=h(),i=Object(a.useState)(!1),c=Object(r.a)(i,2),o=c[0],s=c[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(q.a,{"aria-label":"edit",onClick:function(){return s(!0)},children:Object(f.jsx)(z.a,{})}),Object(f.jsx)(M.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:n.modal,open:o,onClose:function(){return s(!1)},closeAfterTransition:!0,BackdropComponent:P.a,BackdropProps:{timeout:500},children:Object(f.jsx)(A.a,{in:o,children:Object(f.jsxs)("div",{className:n.paper,children:[Object(f.jsx)("h2",{id:"transition-modal-title",children:"Edit bank info"}),Object(f.jsx)(X,{item:t})]})})})]})},Z=function(e){var t=e.list,n=h(),r=t.map((function(e){return Object(f.jsxs)(v.a,{children:[Object(f.jsx)(y.a,{expandIcon:Object(f.jsx)(T.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(f.jsxs)(k.a,{className:n.heading,children:["Bank: ",e.name]})}),Object(f.jsxs)(g.a,{children:[Object(f.jsxs)(k.a,{children:["Interest rate: ",e.interestRate," %"]}),Object(f.jsxs)(k.a,{children:["Maximum loan: ",e.maximumLoan," $"]}),Object(f.jsxs)(k.a,{children:["Minimum down payment: ",e.minimumDownPayment," %"]}),Object(f.jsxs)(k.a,{children:["Loan term: ",e.loanTerm," months"]}),Object(f.jsxs)("div",{className:n.wrapper,children:[Object(f.jsx)(B,{data:e._id}),Object(f.jsx)(Y,{item:e})]})]})]},e._id)}));return Object(f.jsxs)("div",{className:n.root,children:[Object(f.jsx)("h1",{children:"List of the banks"}),r]})},ee=n(157),te=n.n(ee),ne=Object(x.a)((function(){return{container:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"3rem"}}})),re=function(e){var t=e.handleClick,n=ne();return Object(f.jsx)("div",{className:n.container,children:Object(f.jsx)(W.a,{variant:"contained",color:"primary",size:"large",startIcon:Object(f.jsx)(te.a,{}),onClick:t,children:"Add bank"})})},ae=Object(x.a)((function(e){return{container:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"3rem"},root:{color:e.palette.common.white,backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.light}}}})),ie=function(e){var t=e.handleClick,n=ae();return Object(f.jsx)("div",{className:n.container,children:Object(f.jsx)(W.a,{className:n.root,variant:"contained",size:"large",onClick:t,children:"Cancel"})})},ce=n(186),oe=n(80),se=n(187),le=n(32),ue=l.prefix,me=l.banksInfo;function de(e){return function(){var t=Object(s.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:le.b,loading:!0}),t.next=4,fetch(ue+me,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(e)});case 4:t.sent.ok?n({type:le.c,loading:!1,success:!0}):n(pe()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(pe());case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function pe(){return{type:le.a,loading:!1,error:!0}}var je=Object(x.a)((function(e){return{container:{margin:e.spacing(5),backgroundColor:e.palette.grey[300]},paper:{flexGrow:1,height:"100%",backgroundColor:"primary"},title:{margin:e.spacing(5),marginBottom:e.spacing(10)},FormTask:{textAlign:"center",verticalAlign:"middle",width:"100%","& > div":{margin:e.spacing(1),width:"75%"},"& > button":{marginTop:e.spacing(4),marginBottom:e.spacing(10),width:"75%",height:"4rem"},"& > div.MuiAlert-root":{display:"inline-flex",width:"75%"}}}})),be=function(){var e=Object(i.b)(),t=je(),n=Object(E.a)(),r=n.register,a=n.handleSubmit,c=n.errors,l=function(){var t=Object(s.a)(o.a.mark((function t(n,r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.next=3,e(de(n));case 3:return t.next=5,e(p());case 5:r.target.reset();case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("form",{className:t.FormTask,onSubmit:a(l),children:[Object(f.jsx)(V.a,{label:"Bank name *",id:"name",name:"name",type:"text",variant:"outlined",inputRef:r({required:!0})}),c.name&&Object(f.jsx)(J.a,{severity:"error",children:"Bank name is required"}),Object(f.jsx)(V.a,{label:"Interest rate *",id:"interestRate",name:"interestRate",type:"number",variant:"outlined",inputRef:r({required:!0})}),c.interestRate&&Object(f.jsx)(J.a,{severity:"error",children:"Interest rate is required"}),Object(f.jsx)(V.a,{label:"Maximum loan *",id:"maximumLoan",name:"maximumLoan",type:"number",variant:"outlined",inputRef:r({required:!0})}),c.maximumLoan&&Object(f.jsx)(J.a,{severity:"error",children:"Maximum loan is required"}),Object(f.jsx)(V.a,{label:"Minimum down payment *",id:"minimumDownPayment",name:"minimumDownPayment",type:"number",variant:"outlined",inputRef:r({required:!0})}),c.maximumLoan&&Object(f.jsx)(J.a,{severity:"error",children:"Minimum down payment is required"}),Object(f.jsx)(V.a,{label:"Loan term *",id:"loanTerm",name:"loanTerm",type:"number",variant:"outlined",inputRef:r({required:!0})}),c.loanTerm&&Object(f.jsx)(J.a,{severity:"error",children:"Loan term is required"}),Object(f.jsx)(W.a,{variant:"contained",size:"large",color:"primary",type:"submit",children:"Submit"})]})})},xe=function(){var e=je();return Object(f.jsx)(ce.a,{maxWidth:"md",children:Object(f.jsx)(k.a,{component:"main",className:e.container,children:Object(f.jsx)(oe.a,{className:e.paper,elevation:2,children:Object(f.jsxs)(se.a,{container:!0,justify:"center",children:[Object(f.jsx)(k.a,{variant:"h4",component:"h2",gutterBottom:!0,className:e.title,children:"Add new bank to the list"}),Object(f.jsx)(be,{})]})})})})};t.default=function(){var e=Object(i.b)();Object(a.useEffect)((function(){return e(p())}),[e]);var t=Object(i.c)((function(e){return e.list})),n=t.loading,c=t.payload,o=Object(a.useState)(!1),s=Object(r.a)(o,2),l=s[0],u=s[1],m=function(){return u((function(e){return!e}))},d=l?Object(f.jsx)(ie,{handleClick:m}):Object(f.jsx)(re,{handleClick:m}),j=c.length>0?Object(f.jsx)(Z,{list:c}):Object(f.jsx)(O,{}),x=l?Object(f.jsx)(xe,{}):null,h=n?Object(f.jsx)(b.a,{}):j;return Object(f.jsxs)(f.Fragment,{children:[h,d,x]})}}}]);
//# sourceMappingURL=5.6fc90be6.chunk.js.map