(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[5],{189:function(e,n,t){"use strict";t.r(n);var r=t(113),a=t(0),i=t(42),c=t(109),o=t.n(c),s=t(110),l=Object.freeze({prefix:"/api",banksInfo:"/banks-info",deleteBank:"/bank"}),u=t(30),d=l.prefix,m=l.banksInfo;function p(){return function(){var e=Object(s.a)(o.a.mark((function e(n){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:u.b,loading:!0}),e.next=4,fetch(d+m,{method:"GET",cache:"no-cache",headers:{"Content-Type":"application/json; charset=UTF-8"}});case 4:return t=e.sent,e.next=7,t.json();case 7:r=e.sent,console.log(r),t.ok?n((a=r,{type:u.c,loading:!1,payload:a})):n(j()),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),n(j());case 15:case"end":return e.stop()}var a}),e,null,[[0,12]])})));return function(n){return e.apply(this,arguments)}}()}function j(){return{type:u.a,loading:!1,error:!0}}var b=t(48),x=t(78),h=Object(x.a)((function(e){return{root:{width:"75%",margin:"100px auto","& .MuiAccordionDetails-root":{display:"block"}},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},wrapper:{display:"flex",flexDirection:"row-reverse",width:"100%",marginTop:"40px"},container:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"3rem"},paragraph:{fontSize:e.typography.pxToRem(25)},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),minWidth:"500px"},button:{float:"right",marginTop:"25px"}}})),f=t(4),O=function(){var e=h();return Object(f.jsx)("div",{className:e.container,children:Object(f.jsx)("p",{className:e.paragraph,children:"List of banks is empty."})})},v=t(194),y=t(183),g=t(185),k=t(184),w=t(156),T=t.n(w),C=t(151),q=t.n(C),R=t(177),I=t(31),L=l.prefix,N=l.deleteBank;function D(e){return function(){var n=Object(s.a)(o.a.mark((function n(t){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:I.b,loading:!0}),n.next=4,fetch("".concat(L).concat(N,":").concat(e),{method:"DELETE",cache:"no-cache"});case 4:(r=n.sent).ok&&200===r.status?t({type:I.c,loading:!1,delete:!0}):t(S()),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),t(S());case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}function S(){return{type:I.a,loading:!1,error:!0}}var B=function(e){var n=e.data,t=Object(i.b)(),r=function(){var e=Object(s.a)(o.a.mark((function e(r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,t(D(n));case 3:return e.next=5,t(p());case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(f.jsx)(R.a,{"aria-label":"delete",onClick:r,children:Object(f.jsx)(q.a,{})})},M=t(192),A=t(181),F=t(182),P=t(155),z=t.n(P),E=t(131),J=t(195),W=t(193),U=t(105),_=t(154),G=t.n(_),H=t(33),$=l.prefix,K=l.banksInfo;function Q(e){return function(){var n=Object(s.a)(o.a.mark((function n(t){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:H.b,loading:!0}),n.next=4,fetch($+K,{method:"PATCH",cache:"no-cache",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(e)});case 4:n.sent.ok?t({type:H.c,loading:!1,edit:!0}):t(V()),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),t(V());case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}function V(){return{type:H.a,loading:!1,error:!0}}var X=function(e){var n=e.id,t=Object(i.b)(),r=h(),a=Object(E.a)(),c=a.register,l=a.handleSubmit,u=a.errors,d=function(){var e=Object(s.a)(o.a.mark((function e(r,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r.id=n,e.next=4,t(Q(r));case 4:return e.next=6,t(p());case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return Object(f.jsxs)("form",{autoComplete:"off",onSubmit:l(d),children:[Object(f.jsx)(J.a,{label:"Bank name *",id:"name",name:"name",type:"text",variant:"outlined",inputRef:c({required:!0})}),u.name&&Object(f.jsx)(W.a,{severity:"error",children:"Bank name is required"}),Object(f.jsx)(J.a,{label:"Interest rate *",id:"interestRate",name:"interestRate",type:"number",variant:"outlined",inputRef:c({required:!0})}),u.interestRate&&Object(f.jsx)(W.a,{severity:"error",children:"Interest rate is required"}),Object(f.jsx)(J.a,{label:"Maximum loan *",id:"maximumLoan",name:"maximumLoan",type:"number",variant:"outlined",inputRef:c({required:!0})}),u.maximumLoan&&Object(f.jsx)(W.a,{severity:"error",children:"Maximum loan is required"}),Object(f.jsx)(J.a,{label:"Minimum down payment *",id:"minimumDownPayment",name:"minimumDownPayment",type:"number",variant:"outlined",inputRef:c({required:!0})}),u.maximumLoan&&Object(f.jsx)(W.a,{severity:"error",children:"Minimum down payment is required"}),Object(f.jsx)(J.a,{label:"Loan term *",id:"loanTerm",name:"loanTerm",type:"number",variant:"outlined",inputRef:c({required:!0})}),u.loanTerm&&Object(f.jsx)(W.a,{severity:"error",children:"Loan term is required"}),Object(f.jsx)("div",{children:Object(f.jsx)(U.a,{variant:"contained",color:"default",size:"small",className:r.button,startIcon:Object(f.jsx)(G.a,{}),type:"submit",children:"Save"})})]})},Y=function(e){var n=e.bankId,t=h(),i=Object(a.useState)(!1),c=Object(r.a)(i,2),o=c[0],s=c[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(R.a,{"aria-label":"edit",onClick:function(){return s(!0)},children:Object(f.jsx)(z.a,{})}),Object(f.jsx)(M.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:o,onClose:function(){return s(!1)},closeAfterTransition:!0,BackdropComponent:A.a,BackdropProps:{timeout:500},children:Object(f.jsx)(F.a,{in:o,children:Object(f.jsxs)("div",{className:t.paper,children:[Object(f.jsx)("h2",{id:"transition-modal-title",children:"Edit bank info"}),Object(f.jsx)(X,{id:n})]})})})]})},Z=function(e){var n=e.list,t=h(),r=n.map((function(e){return Object(f.jsxs)(v.a,{children:[Object(f.jsx)(y.a,{expandIcon:Object(f.jsx)(T.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(f.jsxs)(k.a,{className:t.heading,children:["Bank: ",e.name]})}),Object(f.jsxs)(g.a,{children:[Object(f.jsxs)(k.a,{children:["Interest rate: ",e.interestRate," %"]}),Object(f.jsxs)(k.a,{children:["Maximum loan: ",e.maximumLoan," $"]}),Object(f.jsxs)(k.a,{children:["Minimum down payment: ",e.minimumDownPayment," %"]}),Object(f.jsxs)(k.a,{children:["Loan term: ",e.loanTerm," months"]}),Object(f.jsxs)("div",{className:t.wrapper,children:[Object(f.jsx)(B,{data:e._id}),Object(f.jsx)(Y,{bankId:e._id})]})]})]},e._id)}));return Object(f.jsxs)("div",{className:t.root,children:[Object(f.jsx)("h1",{children:"List of the banks"}),r]})},ee=t(157),ne=t.n(ee),te=Object(x.a)((function(){return{container:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"3rem"}}})),re=function(e){var n=e.handleClick,t=te();return Object(f.jsx)("div",{className:t.container,children:Object(f.jsx)(U.a,{variant:"contained",color:"primary",size:"large",startIcon:Object(f.jsx)(ne.a,{}),onClick:n,children:"Add bank"})})},ae=Object(x.a)((function(e){return{container:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"3rem"},root:{color:e.palette.common.white,backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.light}}}})),ie=function(e){var n=e.handleClick,t=ae();return Object(f.jsx)("div",{className:t.container,children:Object(f.jsx)(U.a,{className:t.root,variant:"contained",size:"large",onClick:n,children:"Cancel"})})},ce=t(186),oe=t(80),se=t(187),le=t(32),ue=l.prefix,de=l.banksInfo;function me(e){return function(){var n=Object(s.a)(o.a.mark((function n(t){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t({type:le.b,loading:!0}),n.next=4,fetch(ue+de,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(e)});case 4:n.sent.ok?t({type:le.c,loading:!1,success:!0}):t(pe()),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),t(pe());case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}function pe(){return{type:le.a,loading:!1,error:!0}}var je=Object(x.a)((function(e){return{container:{margin:e.spacing(5),backgroundColor:e.palette.grey[300]},paper:{flexGrow:1,height:"100%",backgroundColor:"primary"},title:{margin:e.spacing(5),marginBottom:e.spacing(10)},FormTask:{textAlign:"center",verticalAlign:"middle",width:"100%","& > div":{margin:e.spacing(1),width:"75%"},"& > button":{marginTop:e.spacing(4),marginBottom:e.spacing(10),width:"75%",height:"4rem"},"& > div.MuiAlert-root":{display:"inline-flex",width:"75%"}}}})),be=function(){var e=Object(i.b)(),n=je(),t=Object(E.a)(),r=t.register,a=t.handleSubmit,c=t.errors,l=function(){var n=Object(s.a)(o.a.mark((function n(t,r){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),n.next=3,e(me(t));case 3:return n.next=5,e(p());case 5:r.target.reset();case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("form",{className:n.FormTask,onSubmit:a(l),children:[Object(f.jsx)(J.a,{label:"Bank name *",id:"name",name:"name",type:"text",variant:"outlined",inputRef:r({required:!0})}),c.name&&Object(f.jsx)(W.a,{severity:"error",children:"Bank name is required"}),Object(f.jsx)(J.a,{label:"Interest rate *",id:"interestRate",name:"interestRate",type:"number",variant:"outlined",inputRef:r({required:!0})}),c.interestRate&&Object(f.jsx)(W.a,{severity:"error",children:"Interest rate is required"}),Object(f.jsx)(J.a,{label:"Maximum loan *",id:"maximumLoan",name:"maximumLoan",type:"number",variant:"outlined",inputRef:r({required:!0})}),c.maximumLoan&&Object(f.jsx)(W.a,{severity:"error",children:"Maximum loan is required"}),Object(f.jsx)(J.a,{label:"Minimum down payment *",id:"minimumDownPayment",name:"minimumDownPayment",type:"number",variant:"outlined",inputRef:r({required:!0})}),c.maximumLoan&&Object(f.jsx)(W.a,{severity:"error",children:"Minimum down payment is required"}),Object(f.jsx)(J.a,{label:"Loan term *",id:"loanTerm",name:"loanTerm",type:"number",variant:"outlined",inputRef:r({required:!0})}),c.loanTerm&&Object(f.jsx)(W.a,{severity:"error",children:"Loan term is required"}),Object(f.jsx)(U.a,{variant:"contained",size:"large",color:"primary",type:"submit",children:"Submit"})]})})},xe=function(){var e=je();return Object(f.jsx)(ce.a,{maxWidth:"md",children:Object(f.jsx)(k.a,{component:"main",className:e.container,children:Object(f.jsx)(oe.a,{className:e.paper,elevation:2,children:Object(f.jsxs)(se.a,{container:!0,justify:"center",children:[Object(f.jsx)(k.a,{variant:"h4",component:"h2",gutterBottom:!0,className:e.title,children:"Add new bank to the list"}),Object(f.jsx)(be,{})]})})})})};n.default=function(){var e=Object(i.b)();Object(a.useEffect)((function(){return e(p())}),[e]);var n=Object(i.c)((function(e){return e.list})),t=n.loading,c=n.payload,o=Object(a.useState)(!1),s=Object(r.a)(o,2),l=s[0],u=s[1],d=function(){return u((function(e){return!e}))},m=l?Object(f.jsx)(ie,{handleClick:d}):Object(f.jsx)(re,{handleClick:d}),j=c.length>0?Object(f.jsx)(Z,{list:c}):Object(f.jsx)(O,{}),x=l?Object(f.jsx)(xe,{}):null,h=t?Object(f.jsx)(b.a,{}):j;return Object(f.jsxs)(f.Fragment,{children:[h,m,x]})}}}]);
//# sourceMappingURL=5.acf425dc.chunk.js.map